"use strict";(self.webpackChunkcode_sage=self.webpackChunkcode_sage||[]).push([[758],{1758:(R,v,a)=>{a.r(v),a.d(v,{BlogsModule:()=>$});var m=a(6814),c=a(1896),t=a(5879),B=a(5010),f=a(2296),b=a(9515);let O=(()=>{class n{constructor(){this.itemsPerPage=10}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-blogs"]],decls:7,vars:5,consts:[[1,"container","blogs"],[1,"container__content--center"],["mat-flat-button","","color","primary",1,"blogs__create",3,"routerLink"],[1,"blogs__list"],[3,"itemsPerPage"]],template:function(o,e){1&o&&(t.TgZ(0,"section",0)(1,"div",1)(2,"button",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3),t._UZ(6,"app-blog-list",4),t.qZA()()()),2&o&&(t.xp6(2),t.Q6J("routerLink","/blogs/create"),t.xp6(1),t.Oqu(t.lcZ(4,3,"blog-create")),t.xp6(3),t.Q6J("itemsPerPage",e.itemsPerPage))},dependencies:[c.rH,B.R,f.lW,b.X$],styles:[".blogs__list[_ngcontent-%COMP%]{margin:3rem 0}.blogs__create[_ngcontent-%COMP%]{display:block;margin-left:auto}"]}),n})();var p=a(2096),Z=a(4664),I=a(6306),_=a(1034),h=a(9468),x=a(617),E=a(3847);const q=function(n){return["/blogs/edit",n]};function M(n,l){if(1&n){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",4)(2,"div",5)(3,"h1",6),t._uU(4),t.qZA(),t.TgZ(5,"div")(6,"button",7)(7,"mat-icon"),t._uU(8,"edit"),t.qZA()(),t.TgZ(9,"button",8),t.NdJ("click",function(){const i=t.CHM(o).ngIf,g=t.oxw();return t.KtG(g.removeBlog(i.id))}),t.TgZ(10,"mat-icon"),t._uU(11,"delete"),t.qZA()()()(),t.TgZ(12,"div",9),t._uU(13),t.ALo(14,"formatDate"),t.qZA(),t.TgZ(15,"div",10),t._uU(16),t.qZA()(),t.BQk()}if(2&n){const o=l.ngIf;t.xp6(4),t.Oqu(o.title),t.xp6(2),t.Q6J("routerLink",t.VKq(6,q,o.id)),t.xp6(7),t.hij(" ",t.lcZ(14,4,o.created)," "),t.xp6(3),t.Oqu(o.content)}}function w(n,l){1&n&&t._UZ(0,"app-spinner")}let N=(()=>{class n{constructor(o,e,r){this.route=o,this.blogsService=e,this.router=r,this.blog$=(0,p.of)(null),this.blog$=this.route.paramMap.pipe((0,Z.w)(i=>{const g=i.get("id");return g?this.blogsService.getBlog(g):(0,p.of)(null)}),(0,I.K)(()=>(this.router.navigate(["/blogs"],{queryParams:{error:"no-detail"}}),(0,p.of)(null))))}removeBlog(o){this.blogsService.removeBlog(o).subscribe(()=>{this.router.navigate(["/blogs"])})}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(c.gz),t.Y36(_.Q),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-blog-detail"]],decls:6,vars:4,consts:[[1,"container"],[1,"container__content--center"],[4,"ngIf","ngIfElse"],["spinner",""],[1,"blog-detail"],[1,"blog-detail--actions"],[1,"blog-detail__heading"],["mat-icon-button","","color","primary",3,"routerLink"],["mat-icon-button","","color","primary",3,"click"],[1,"blog-detail__date"],[1,"blog-detail__content"]],template:function(o,e){if(1&o&&(t.TgZ(0,"section",0)(1,"div",1),t.YNc(2,M,17,8,"ng-container",2),t.ALo(3,"async"),t.qZA()(),t.YNc(4,w,1,0,"ng-template",null,3,t.W1O)),2&o){const r=t.MAs(5);t.xp6(2),t.Q6J("ngIf",t.lcZ(3,2,e.blog$))("ngIfElse",r)}},dependencies:[m.O5,c.rH,h.O,f.RK,x.Hw,m.Ov,E.i],styles:[".blog-detail--actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.blog-detail__heading[_ngcontent-%COMP%]{font-size:1.7rem;color:#3d3a3a;text-align:left;font-weight:500;letter-spacing:normal;word-spacing:normal}@media only screen and (min-width: 56.25em){.blog-detail__heading[_ngcontent-%COMP%]{font-size:1.85rem;color:#3d3a3a;text-align:left;font-weight:500;letter-spacing:normal;word-spacing:normal}}@media only screen and (min-width: 75em){.blog-detail__heading[_ngcontent-%COMP%]{font-size:2.2rem;color:#3d3a3a;text-align:left;font-weight:500;letter-spacing:normal;word-spacing:normal}}@media only screen and (min-width: 103.125em){.blog-detail__heading[_ngcontent-%COMP%]{font-size:2.3rem;color:#3d3a3a;text-align:left;font-weight:500;letter-spacing:normal;word-spacing:normal}}.blog-detail__date[_ngcontent-%COMP%]{margin-top:.3rem;font-size:.9rem;color:#f57c00;text-align:left;font-weight:500;letter-spacing:normal;word-spacing:normal}@media only screen and (min-width: 75em){.blog-detail__date[_ngcontent-%COMP%]{font-size:1rem;color:#f57c00;text-align:left;font-weight:500;letter-spacing:normal;word-spacing:normal}}.blog-detail__content[_ngcontent-%COMP%]{margin-top:2rem;font-size:.9rem;color:#6c6565;text-align:justify;font-weight:400;letter-spacing:normal;word-spacing:normal;white-space:pre-wrap}@media only screen and (min-width: 75em){.blog-detail__content[_ngcontent-%COMP%]{font-size:1rem;color:#6c6565;text-align:justify;font-weight:400;letter-spacing:normal;word-spacing:normal}}"]}),n})();var T=a(5044),A=a(2977),F=a(6028),s=a(6223),u=a(2557),L=a(2032),d=a(4170);function J(n,l){if(1&n){const o=t.EpF();t.ynx(0),t.TgZ(1,"button",12),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.addBlogLanguage(r.Languages.CS))}),t._uU(2,"CZ"),t.qZA(),t.TgZ(3,"button",12),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.addBlogLanguage(r.Languages.EN))}),t._uU(4,"EN"),t.qZA(),t.BQk()}}function U(n,l){if(1&n){const o=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(o);const r=t.oxw().index,i=t.oxw();return t.KtG(i.removeBlog(r))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"remove")))}function Q(n,l){if(1&n&&(t.ynx(0,13),t.TgZ(1,"h3",2),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"mat-form-field",5)(6,"mat-label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",14),t.TgZ(10,"mat-error"),t._uU(11),t.ALo(12,"translate"),t.qZA()(),t.TgZ(13,"mat-form-field",5)(14,"mat-label"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._UZ(17,"textarea",15),t.TgZ(18,"mat-error"),t._uU(19),t.ALo(20,"translate"),t.qZA()(),t.YNc(21,U,3,3,"button",16),t.BQk()),2&n){const o=l.$implicit,e=l.index,r=t.oxw();t.Q6J("formGroupName",e),t.xp6(2),t.AsE("",t.lcZ(3,8,"language")," : ",t.lcZ(4,10,"language-"+o.controls.language.value),""),t.xp6(5),t.Oqu(t.lcZ(8,12,"blog-title")),t.xp6(4),t.Oqu(t.lcZ(12,14,"form-required")),t.xp6(4),t.Oqu(t.lcZ(16,16,"blog-content")),t.xp6(4),t.Oqu(t.lcZ(20,18,"form-required")),t.xp6(2),t.Q6J("ngIf",!r.blog)}}function P(n,l){if(1&n){const o=t.EpF();t.TgZ(0,"mat-chip-row",18),t.NdJ("removed",function(){const i=t.CHM(o).$implicit,g=t.oxw();return t.KtG(g.removeTag(i))})("edited",function(r){const g=t.CHM(o).$implicit,C=t.oxw();return t.KtG(C.editTag(g,r))}),t._uU(1),t.TgZ(2,"button",19)(3,"mat-icon"),t._uU(4,"cancel"),t.qZA()()()}if(2&n){const o=l.$implicit;t.Q6J("editable",!0),t.xp6(1),t.hij(" ",o," "),t.xp6(1),t.uIk("aria-label","remove "+o)}}let y=(()=>{class n{constructor(o,e){this.fb=o,this.router=e,this.blog=null,this.submitEvent=new t.vpe,this.separatorKeysCodes=[F.K5,F.OC],this.blogForm=this.fb.group({tags:this.fb.nonNullable.control([],{validators:[s.kI.required,s.kI.minLength(1)]}),blogs:this.fb.array([],{validators:[s.kI.required,s.kI.minLength(1)]})}),this.tags=[],this.addOnBlur=!0,this.Languages=A.n}ngOnInit(){this.blog&&(this.blogForm.patchValue({tags:[...this.blog.tags]}),this.tags=[...this.blog.tags],this.blog.translations.forEach(o=>{this.addBlog(o.language,o)}))}get blogsFormArray(){return this.blogForm?.controls.blogs??null}addBlogLanguage(o){this.blogsFormArray?.controls.filter(e=>e.value.language===o).length||this.addBlog(o)}removeBlog(o){this.blogsFormArray?.removeAt(o)}addBlog(o=A.n.EN,e){const r=this.fb.group({title:this.fb.nonNullable.control(e?.title??"",s.kI.required),content:this.fb.nonNullable.control(e?.content??"",s.kI.required),language:this.fb.nonNullable.control(e?.language??o,s.kI.required)});this.blogsFormArray?.push(r)}addTag(o){const e=(o.value||"").trim();e&&this.tags.push(e),o.chipInput?.clear()}removeTag(o){const e=this.tags.indexOf(o);e>=0&&this.tags.splice(e,1)}editTag(o,e){const r=e.value.trim();if(!r)return void this.removeTag(o);const i=this.tags.indexOf(o);i>=0&&(this.tags[i]=r)}submitForm(){this.blogForm.invalid||(this.blogForm.patchValue({tags:this.tags}),this.submitEvent.emit(this.blogForm.controls))}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(s.qu),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-blog-form"]],inputs:{blog:"blog"},outputs:{submitEvent:"submitEvent"},decls:28,vars:26,consts:[[1,"form-content",3,"formGroup"],["formArrayName","blogs"],[1,"span-12"],[4,"ngIf"],[3,"formGroupName",4,"ngFor","ngForOf"],["appearance","outline",1,"span-12"],["formControlName","tags"],["chipGrid",""],[3,"editable","removed","edited",4,"ngFor","ngForOf"],[3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],[1,"form-actions"],["mat-flat-button","","color","primary",1,"submit-button",3,"disabled","click"],["mat-flat-button","","color","primary",3,"click"],[3,"formGroupName"],["matInput","","formControlName","title"],["matInput","","formControlName","content"],["class","remove-button span-12","mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",1,"remove-button","span-12",3,"click"],[3,"editable","removed","edited"],["matChipRemove",""]],template:function(o,e){if(1&o&&(t.TgZ(0,"form",0),t.ynx(1,1),t.TgZ(2,"h2",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,J,5,0,"ng-container",3),t.YNc(6,Q,22,20,"ng-container",4),t.BQk(),t.TgZ(7,"h2",2),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"mat-form-field",5)(11,"mat-label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"mat-chip-grid",6,7),t.YNc(16,P,5,3,"mat-chip-row",8),t.TgZ(17,"input",9),t.NdJ("matChipInputTokenEnd",function(i){return e.addTag(i)}),t.qZA()(),t.TgZ(18,"mat-hint"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"mat-error"),t._uU(22),t.ALo(23,"translate"),t.qZA()(),t.TgZ(24,"div",10)(25,"button",11),t.NdJ("click",function(){return e.submitForm()}),t._uU(26),t.ALo(27,"translate"),t.qZA()()()),2&o){const r=t.MAs(15);t.Q6J("formGroup",e.blogForm),t.xp6(3),t.Oqu(t.lcZ(4,14,e.blog?"blog-update":"blog-create")),t.xp6(2),t.Q6J("ngIf",!e.blog),t.xp6(1),t.Q6J("ngForOf",null==e.blogsFormArray?null:e.blogsFormArray.controls),t.xp6(2),t.Oqu(t.lcZ(9,16,"blog-tags")),t.xp6(4),t.Oqu(t.lcZ(13,18,"blog-tags")),t.xp6(4),t.Q6J("ngForOf",e.tags),t.xp6(1),t.Q6J("matChipInputFor",r)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",e.addOnBlur),t.xp6(2),t.Oqu(t.lcZ(20,20,"chips-hint")),t.xp6(3),t.Oqu(t.lcZ(23,22,"form-required")),t.xp6(3),t.Q6J("disabled",e.blogForm.invalid),t.xp6(1),t.Oqu(t.lcZ(27,24,e.blog?"update":"create"))}},dependencies:[m.sg,m.O5,f.lW,u.RA,u.oH,u.qH,u.z3,x.Hw,L.Nt,d.KE,d.hX,d.bx,d.TO,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,s.x0,s.CE,b.X$]}),n})();function Y(n,l){if(1&n){const o=t.EpF();t.ynx(0),t.TgZ(1,"app-blog-form",4),t.NdJ("submitEvent",function(r){const g=t.CHM(o).ngIf,C=t.oxw();return t.KtG(C.updateBlog(r,g.id))}),t.qZA(),t.BQk()}if(2&n){const o=l.ngIf;t.xp6(1),t.Q6J("blog",o)}}function K(n,l){1&n&&t._UZ(0,"app-spinner")}const z=[{path:"",component:O},{path:"detail/:id",component:N},{path:"create",component:(()=>{class n{constructor(o,e){this.blogsService=o,this.router=e}createBlog(o){this.blogsService.createBlog(T.c.MapBlogRequest(o)).subscribe(()=>this.router.navigate(["/blogs"]))}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(_.Q),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-blog"]],decls:3,vars:0,consts:[[1,"container"],[1,"container__content--center"],[3,"submitEvent"]],template:function(o,e){1&o&&(t.TgZ(0,"section",0)(1,"div",1)(2,"app-blog-form",2),t.NdJ("submitEvent",function(i){return e.createBlog(i)}),t.qZA()()())},dependencies:[y],styles:[".remove-button[_ngcontent-%COMP%]{display:block;margin-left:auto}"]}),n})()},{path:"edit/:id",component:(()=>{class n{constructor(o,e,r){this.route=o,this.blogsService=e,this.router=r,this.blog$=(0,p.of)(null),this.blog$=this.route.paramMap.pipe((0,Z.w)(i=>{const g=i.get("id");return g?this.blogsService.getBlogWithAllTranslations(g):(0,p.of)(null)}))}updateBlog(o,e){this.blogsService.updateBlog(e,T.c.MapBlogRequest(o)).subscribe(()=>this.router.navigate(["/blogs"]))}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(c.gz),t.Y36(_.Q),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-blog"]],decls:6,vars:4,consts:[[1,"container"],[1,"container__content--center"],[4,"ngIf","ngIfElse"],["spinner",""],[3,"blog","submitEvent"]],template:function(o,e){if(1&o&&(t.TgZ(0,"section",0)(1,"div",1),t.YNc(2,Y,2,1,"ng-container",2),t.ALo(3,"async"),t.qZA()(),t.YNc(4,K,1,0,"ng-template",null,3,t.W1O)),2&o){const r=t.MAs(5);t.xp6(2),t.Q6J("ngIf",t.lcZ(3,2,e.blog$))("ngIfElse",r)}},dependencies:[m.O5,h.O,y,m.Ov]}),n})()}];let G=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.Bz.forChild(z),c.Bz]}),n})();var H=a(1532),S=a(5492);let $=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.ez,G,H.q,b.aw,B.R,h.O,S.q,s.UX]}),n})()}}]);